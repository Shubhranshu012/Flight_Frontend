<div id="search">
  <h1>Search Flights</h1>

  <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
    <div class="date">
        <label for="fromPlace">From:</label>
        <input type="text" formControlName="fromPlace" placeholder="From" class="right">
    </div>

    <div class="date">
        <label for="toPlace">To:  </label>
        <input type="text" formControlName="toPlace" placeholder="To">
    </div>


    <div class="date">
        <label for="journeyDate">Journey Date:</label>
        <input type="date" formControlName="journeyDate">
    </div>


    <div class="date">
      <label>Trip Type:</label>
      <label>
        <input type="radio" value="one_way" formControlName="tripType"> One Way
      </label>
      <label>
        <input type="radio" value="round_trip" formControlName="tripType"> Round Trip
      </label>
    </div>

    <div *ngIf="searchForm.value.tripType === 'round_trip'" class="date">
      <label for="returnDate">Return Date:</label>
      <input  type="date" formControlName="returnDate" placeholder="Return Date">
    </div>

    <button type="submit">Search</button>

    <div *ngIf="message" class="message">{{ message }}</div>

  </form>
</div>
<div *ngIf="flights.length > 0" class="results">
  <h2>Available Flights</h2>

  <div *ngFor="let flight of flights" class="flight-card">

    <div class="airline">
      <h3>{{ flight.airline }}</h3>
      <span>{{ flight.flightId }}</span>
    </div>
    <div class="time">
        <strong>{{ flight.departureTime | date:'shortTime' }}</strong>
        <span class="city">{{ flight.source }}</span>
      </div>
    <div class="duration">
        <span class="line"></span>
        <span class="duration-text">
          {{ flight.departureTime | date:'HH:mm' }} →
          {{ flight.arrivalTime | date:'HH:mm' }}
        </span>
        <span class="line"></span>
      </div>
    <div class="time">
        <strong>{{ flight.arrivalTime | date:'shortTime' }}</strong>
        <span class="city">{{ flight.destination }}</span>
      </div>
    <div class="price">
      <p>₹{{ flight.price }}</p>
      <button>Book</button>
    </div>

  </div>
</div>
